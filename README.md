# BlockExt - 파일 확장자 차단 과제

## 1. 프로젝트 개요
`BlockExt` 프로젝트는 웹 환경에서 **보안상 위험할 수 있는 파일 확장자를 차단**하기 위한 기능을 구현한 과제입니다.  
특히 `.exe`, `.sh` 등 실행파일 업로드 시 서버에서 실행될 수 있는 위험을 방지하는 목적을 가지고 있습니다.  
이 프로젝트는 **Spring Boot + React** 기반으로 작성되었습니다.

---

## 2. 사용 기술
- **Backend:** Spring Boot 3.5.6, MySQL
- **Frontend:** React 19.2 + TypeScript, Axios
- **Database:** MySQL
- **빌드/패키징:** Gradle
- **기타:** Git, GitHub

---

## 3. 아키텍처
<img width="968" height="522" alt="제목 없는 다이어그램 drawio" src="https://github.com/user-attachments/assets/1904b304-4178-4285-842c-6c365273c5c7" />

---

## 4. 주요 요구사항

### 4.1 고정 확장자 (Fixed Extensions)
- 자주 차단하는 확장자를 리스트로 제공  
- 기본값은 **체크 해제(Uncheck)** 상태  
- 체크/체크 해제 시 DB에 저장, 새로고침 시 상태 유지  
- 고정 확장자는 커스텀 확장자 영역에 나타나지 않음  

### 4.2 커스텀 확장자 (Custom Extensions)
- 최대 입력 길이: 20자  
- 최대 200개까지 추가 가능
- 추가 버튼 클릭 시 DB 저장, 화면에 표시
- 확장자 옆 `X` 클릭 시 삭제  

### 4.3 추가 고려사항
- **커스텀 확장자 중복 체크**: 이미 추가된 확장자는 중복 추가 불가  
- **다중/복합 확장자 체크**: 모든 확장자를 검사
- **파일명에 확장자 없는 경우**: 확장자가 없는 파일 업로드 불가
- **커스텀 확장자 전체 삭제**: 한 번에 모든 커스텀 확장자 초기화 가능
- **로딩 처리**: API 호출 시 로딩 표시
---

## 5. CI/CD 배포 자동화 (GitHub Actions)
BlockExt 프로젝트는 **GitHub Actions**를 활용해 EC2 서버에 **자동 배포**되도록 설정했습니다.

---

## 6. ERD
<img width="382" height="142" alt="image" src="https://github.com/user-attachments/assets/cbe451c0-8cf2-41cd-8289-700f061d662c" />

---

## 7. API 명세

### 7.1 고정 확장자 API

| 메서드      | 엔드포인트                                                  | 설명              | 요청 파라미터                               | 응답 예시                                                                              |
| -------- | ------------------------------------------------ | --------------- | ---------------------------------------------------------------- | -------------------------------------------------------------------------- |
| **GET**  | `/api/extensions/fixed`                                | 고정 확장자 전체 조회    | -                                     | `json [ { "name": "exe", "blocked": true }, { "name": "sh", "blocked": false } ] ` |
| **POST** | `/api/extensions/fixed/{name}/block?blocked={boolean}` | 특정 고정 확장자 차단/해제 | `name`: 확장자명<br>`blocked`: true/false | `json { "name": "exe", "blocked": true } `                                         |

### 7.2 커스텀 확장자 API

| 메서드        | 엔드포인트                                | 설명            | 요청 파라미터      | 응답 예시                                            |
| ---------- | ------------------------------------ | ------------- | ------------ | ------------------------------------------------ |
| **GET**    | `/api/extensions/custom`             | 커스텀 확장자 전체 조회 | -            | `json [ { "name": "bat" }, { "name": "dll" } ] ` |
| **POST**   | `/api/extensions/custom?name={name}` | 커스텀 확장자 추가    | `name`: 확장자명 | `json { "name": "bat" } `                        |
| **DELETE** | `/api/extensions/custom/{name}`      | 커스텀 확장자 삭제    | `name`: 확장자명 | (응답 없음, 200 OK)                                  |
| **DELETE** | `/api/extensions/custom`             | 커스텀 확장자 전체 삭제 | -            | (응답 없음, 200 OK)                                  |



### 7.3 파일 업로드 API

| 메서드      | 엔드포인트               | 설명                    | 요청 파라미터                                 | 응답 예시                                                                                                                    |
| -------- | ------------------- | --------------------- | --------------------------------------- | ------------------------------------------------------------------------------------------------------------------------ |
| **POST** | `/api/files/upload` | 파일 업로드 (차단 확장자 검사 포함) | `file`: 업로드할 파일 (`multipart/form-data`) | **성공 시:**<br>`json "업로드 성공!" `<br><br>**실패 시:**<br>`json "확장자가 없는 파일은 첨부할 수 없습니다." `<br>`json "'exe' 확장자는 첨부할 수 없습니다." ` |


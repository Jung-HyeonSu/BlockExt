# BlockExt - 파일 확장자 차단 과제

배포 주소: http://3.36.89.98:3000/

---
## 1. 프로젝트 개요
`BlockExt` 프로젝트는 웹 환경에서 **보안상 위험할 수 있는 파일 확장자를 차단**하기 위한 기능을 구현한 과제입니다.  
특히 `.exe`, `.sh` 등 실행파일 업로드 시 서버에서 실행될 수 있는 위험을 방지하는 목적을 가지고 있습니다.  
이 프로젝트는 **Spring Boot + React** 기반으로 작성되었습니다.

---

## 2. 사용 기술 및 선택 이유

- **Backend:** Spring Boot 3.5.6
  - 빠른 REST API 개발과 의존성 관리가 용이
  - 트랜잭션 관리, 보안, 테스트 지원으로 안정적인 서버 구현 가능
  - Spring Data JPA를 통한 DB 연동 간편화

- **Frontend:** React 19.2 + TypeScript, Axios
  - 컴포넌트 기반 UI 구현으로 재사용성과 유지보수성 향상
  - TypeScript 적용으로 정적 타입 검증, 개발 생산성 및 안정성 증가

- **Database:** MySQL (AWS RDS 사용)
  - 대중적이고 안정적인 RDBMS
  - Collation 설정(`utf8mb4_0900_ai_ci`)으로 대소문자 구분 없는 검색 가능
  - AWS RDS를 활용하여 서버 관리 부담 최소화 및 안정적 운영 환경 확보

- **Server Hosting:** AWS EC2
  - 애플리케이션 서버 호스팅 및 배포 환경 제공
  - 유연한 인스턴스 스펙 조정 가능, 스케일링 용이

- **빌드/패키징:** Gradle
  - 의존성 관리와 빌드 속도가 빠르고 설정 유연성 높음
  - 멀티 모듈 프로젝트 관리에도 적합

- **기타:** Git, GitHub
  - 코드 버전 관리 및 협업 용이
  - Pull Request, Issue, CI/CD 연계 등 프로젝트 관리 효율성 향상

---

## 3. 아키텍처
<img width="968" height="522" alt="제목 없는 다이어그램 drawio" src="https://github.com/user-attachments/assets/1904b304-4178-4285-842c-6c365273c5c7" />

---

## 4. 주요 요구사항

### 4.1 고정 확장자 (Fixed Extensions)
- 자주 차단하는 확장자를 리스트로 제공  
- 기본값은 **체크 해제(Uncheck)** 상태  
- 체크/체크 해제 시 DB에 저장, 새로고침 시 상태 유지  
- 고정 확장자는 커스텀 확장자 영역에 나타나지 않음  

### 4.2 커스텀 확장자 (Custom Extensions)
- 최대 입력 길이: 20자  
- 최대 200개까지 추가 가능
- 추가 버튼 클릭 시 DB 저장, 화면에 표시
- 확장자 옆 `X` 클릭 시 삭제  

### 4.3 추가 고려사항
- **커스텀 확장자 중복 체크**
  - **목적** : 사용자가 동일한 확장자를 여러 번 추가하지 못하도록 방지
  - **고려 사항**:
    - 입력값이 이미 커스텀 확장자 또는 고정 확장자 리스트에 존재하면 추가 불가
    - 대소문자 구분 없이 중복 판단 (`EXE`와 `exe`를 동일하게 처리)
  
- **다중/복합 확장자 체크**
  - **목적**: `.tar.gz`, `.backup.tar` 등 복합 확장자도 모두 검사하여 보안상 위험 파일 업로드 방지
  - **고려 사항**:
    - 파일명에서 `점(.)` 기준으로 모든 확장자 추출
    - 각 확장자를 차단 목록과 비교
    - 사용자에게 어느 확장자가 차단되었는지 명확히 알림

- **파일명에 확장자 없는 경우**
  - **목적**: 확장자가 없는 파일 업로드 방지
  - **고려 사항**:
    - 파일명에 `점(.)`이 없는 경우 업로드 차단
  
- **커스텀 확장자 전체 삭제**
  - **목적**: 한 번에 모든 커스텀 확장자를 초기화할 수 있도록 편의성 제공
  - **고려 사항**:
    - 사용자 확인 후 삭제 (실수 방지)
    - API 호출 시 전체 삭제 처리
  
- **로딩 처리**
  - **목적**: API 호출 중 사용자가 상태를 이해할 수 있도록 로딩 표시
  - **고려 사항**:
    - 확장자 추가, 삭제, 전체 삭제 시 로딩 표시
    - 중복 클릭 방지
    
---

## 5. CI/CD 배포 자동화 (GitHub Actions)
BlockExt 프로젝트는 **GitHub Actions**를 활용해 EC2 서버에 **자동 배포**되도록 설정했습니다.

---

## 6. ERD
<img width="397" height="159" alt="image" src="https://github.com/user-attachments/assets/ff162477-1f45-4759-981d-a898285df896" />

---

## 7. API 명세

### 7.1 고정 확장자 API

| 메서드      | 엔드포인트                                                  | 설명              | 요청 파라미터                               | 응답 예시                                                                              |
| -------- | ------------------------------------------------ | --------------- | ---------------------------------------------------------------- | -------------------------------------------------------------------------- |
| **GET**  | `/api/extensions/fixed`                                | 고정 확장자 전체 조회    | -                                     | `json [ { "name": "exe", "blocked": true }, { "name": "sh", "blocked": false } ] ` |
| **POST** | `/api/extensions/fixed/{name}/block?blocked={boolean}` | 특정 고정 확장자 차단/해제 | `name`: 확장자명<br>`blocked`: true/false | `json { "name": "exe", "blocked": true } `                                         |

### 7.2 커스텀 확장자 API

| 메서드        | 엔드포인트                                | 설명            | 요청 파라미터      | 응답 예시                                            |
| ---------- | ------------------------------------ | ------------- | ------------ | ------------------------------------------------ |
| **GET**    | `/api/extensions/custom`             | 커스텀 확장자 전체 조회 | -            | `json [ { "name": "bat" }, { "name": "dll" } ] ` |
| **POST**   | `/api/extensions/custom?name={name}` | 커스텀 확장자 추가    | `name`: 확장자명 | `json { "name": "bat" } `                        |
| **DELETE** | `/api/extensions/custom/{name}`      | 커스텀 확장자 삭제    | `name`: 확장자명 | (응답 없음, 200 OK)                                  |
| **DELETE** | `/api/extensions/custom/all`             | 커스텀 확장자 전체 삭제 | -            | (응답 없음, 200 OK)                                  |



### 7.3 파일 업로드 API

| 메서드      | 엔드포인트               | 설명                    | 요청 파라미터                                 | 응답 예시                                                                                                                    |
| -------- | ------------------- | --------------------- | --------------------------------------- | ------------------------------------------------------------------------------------------------------------------------ |
| **POST** | `/api/files/upload` | 파일 업로드 (차단 확장자 검사 포함) | `file`: 업로드할 파일 (`multipart/form-data`) | **성공 시:**<br>`json "업로드 성공!" `<br><br>**실패 시:**<br>`json "확장자가 없는 파일은 첨부할 수 없습니다." `<br>`json "'exe' 확장자는 첨부할 수 없습니다." ` |

